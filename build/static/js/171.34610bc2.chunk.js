"use strict";(self.webpackChunkcvwo_2024_winter_assignment_frontend=self.webpackChunkcvwo_2024_winter_assignment_frontend||[]).push([[171],{171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(791),s=n(294),r=n(600),o=n(844),l=n(630),d=n(184);const c=function(e){let{id:t,comment:n}=e;const[c]=(0,r.Z)(["token"]),[i,u]=(0,a.useState)(!1);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("br",{}),!i&&(0,d.jsx)(l.default,{onClick:()=>{u(!0)},children:"Edit Comment"})]}),i&&(0,d.jsxs)("form",{className:"z-40 h-full w-full absolute top-0 left-0 bg-gray-100 mx-20",onSubmit:function(e){e.preventDefault();const n=e.currentTarget[1];!function(e){if(!("value"in e))throw new Error("Element is not a form field element")}(n);const a={id:t,token:c.token,updates:n.value};s.Z.post("/update_comment",a).then((e=>{0===e.data.status?(alert("Comment saved!"),window.location.href="/post/"+e.data.post.id):1===e.data.status?alert("Please relog in before trying again."):e.data.error.comment.length>0?alert("Comment "+e.data.error.comment):alert("An unexpected error has occured, please refresh the page and try again")})).catch((e=>console.log(e)))},children:[(0,d.jsxs)("h1",{className:"font-bold",children:[(0,d.jsx)(l.default,{type:"button",onClick:()=>{u(!1)},children:(0,d.jsx)(o.Z,{})})," Editing Post"]}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("label",{className:"w-auto",children:"Comment: "}),(0,d.jsx)("br",{}),(0,d.jsx)("textarea",{className:"border border-slate-400 w-3/4 h-40 p-1",style:{resize:"none"},defaultValue:n}),!1,(0,d.jsx)("br",{}),(0,d.jsx)(l.default,{className:"self-end",style:{transform:"translateX(65vw)"},children:"Save Edit"})]})]})}}}]);
//# sourceMappingURL=171.34610bc2.chunk.js.map